{"version":3,"sources":["../src/component.js"],"names":["Component","el","attrs","dataset","refs","selector","querySelector","querySelectorAll","event","callback","$modulus","on","args","emit","EventEmitter"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;IAEqBA,S;;;AAEnB;;;;;;;;AAQA,qBAAYC,EAAZ,QAA0C;AAAA,QAAxBC,KAAwB,QAAxBA,KAAwB;AAAA,QAAjBC,OAAiB,QAAjBA,OAAiB;AAAA,QAARC,IAAQ,QAARA,IAAQ;;AAAA;;AAAA;;AAExC,UAAKH,EAAL,GAAUA,EAAV;AACA,UAAKC,KAAL,GAAaA,KAAb;AACA,UAAKC,OAAL,GAAeA,OAAf;AACA,UAAKC,IAAL,GAAYA,IAAZ;AALwC;AAMzC;;AAGD;;;;;;;6BAGS,CAAE;;AAGX;;;;;;gCAGY,CAAE;;AAGd;;;;;;;;0BAKMC,Q,EAAU;AACd,aAAO,KAAKJ,EAAL,CAAQK,aAAR,CAAsBD,QAAtB,CAAP;AACD;;AAGD;;;;;;;;6BAKSA,Q,EAAU;AACjB,aAAO,KAAKJ,EAAL,CAAQM,gBAAR,CAAyBF,QAAzB,CAAP;AACD;;AAGD;;;;;;;;wBAKIG,K,EAAOC,Q,EAAU;AACnB,WAAKC,QAAL,CAAcC,EAAd,CAAiBH,KAAjB,EAAwB;AAAA,eAAaC,oCAAb;AAAA,OAAxB;AACD;;AAGD;;;;;;;;0BAKMD,K,EAAgB;AAAA;;AAAA,wCAANI,IAAM;AAANA,YAAM;AAAA;;AACpB,WAAKC,IAAL,cAAUL,KAAV,SAAoBI,IAApB,GADoB,CACM;AAC1B,wBAAKF,QAAL,EAAcG,IAAd,mBAAmBL,KAAnB,SAA6BI,IAA7B,GAFoB,CAEe;AACpC;;;;EArEoCE,qB;;kBAAlBd,S","file":"component.js","sourcesContent":["import EventEmitter from 'tiny-emitter'\r\n\r\nexport default class Component extends EventEmitter {\r\n\r\n  /**\r\n   * New Component\r\n   * @param {HTMLElement}   el\r\n   * @param {Object}        opts\r\n   * @param {Object}        opts.attrs - element attributes\r\n   * @param {DOMStringMap}  opts.dataset - element dataset attributes\r\n   * @param {Object}        opts.refs - HTMLElement found by `[ref]`\r\n   */\r\n  constructor(el, { attrs, dataset, refs }) {\r\n    super()\r\n    this.el = el\r\n    this.attrs = attrs\r\n    this.dataset = dataset\r\n    this.refs = refs\r\n  }\r\n\r\n\r\n  /**\r\n   * Initialize component \r\n   */\r\n  onInit() {}\r\n\r\n\r\n  /**\r\n   * Destroy component\r\n   */\r\n  onDestroy() {}\r\n\r\n\r\n  /**\r\n   * Alias of querySelector()\r\n   * @param {String} selector\r\n   * @return {HTMLElement}\r\n   */\r\n  child(selector) {\r\n    return this.el.querySelector(selector)\r\n  }\r\n\r\n\r\n  /**\r\n   * Alias of querySelectorAll()\r\n   * @param {String} selector \r\n   * @return {NodeList}\r\n   */\r\n  children(selector) {\r\n    return this.el.querySelectorAll(selector)\r\n  }\r\n\r\n\r\n  /**\r\n   * Listen to global event bus\r\n   * @param {String} event \r\n   * @param {Function} callback \r\n   */\r\n  $on(event, callback) {\r\n    this.$modulus.on(event, (...args) => callback(...args))\r\n  }\r\n\r\n\r\n  /**\r\n   * Emit to both global and local event bus\r\n   * @param {String} event \r\n   * @param  {...any} args \r\n   */\r\n  $emit(event, ...args) {\r\n    this.emit(event, ...args) // local\r\n    this.$modulus.emit(event, ...args) // global\r\n  }\r\n\r\n}"]}